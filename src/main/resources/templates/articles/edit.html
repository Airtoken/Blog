<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>首页</title>
<link th:href="@{/bootstrap/css/bootstrap.css}" rel="stylesheet" />
<link th:href="@{/bootstrap/css/bootstrap-theme.css}" rel="stylesheet" />
<link th:href="@{/layui/css/layui.css}" rel="stylesheet" />
<link th:href="@{/layui/css/modules/layer/default/layer.css}" rel="stylesheet" />
<script th:src="@{/layui/layui.js}" type="text/javascript"></script>
<script th:src="@{/layui/lay/modules/layer.js}" type="text/javascript"></script>
<script th:src="@{/js/jquery-3.2.1.min.js}" type="text/javascript"></script>
<script>
	/* $(function(){
		$('#btnSave').click(function(){
			debugger;
			var file = $('#file1')[0];
			var title = $('#txtTitle').val();
			var content = $('#txtContent').val();
			var id = $('#hidId').val();
			
            var formDate = new FormData();
            formDate.append("title", title);  
            formDate.append("content", content);  
            formDate.append("id", id);
            formDate.append("file", file); 
            $.ajax({
                 url: "/articles/save1",
                 data: formDate,
                 type: "Post",
                 dataType: "text",
                 enctype: 'multipart/form-data',
                 cache: false,//上传文件无需缓存
                 processData: false,//用于对data参数进行序列化处理 这里必须false
                 contentType: false, //必须
                 success: function (result) {
                	 debugger;
                     alert("上传完成!");
                 },
                 error:function(e){
                     alert("错误！！");
                 }
             }) 
		})
	}) */
</script>
<style>
.file {
    position: relative;
    display: inline-block;
    background: #D0EEFF;
    border: 1px solid #99D3F5;
    border-radius: 4px;
    padding: 4px 12px;
    overflow: hidden;
    color: #1E88C7;
    text-decoration: none;
    text-indent: 0;
    line-height: 20px;
}
.file input {
    position: absolute;
    font-size: 100px;
    right: 0;
    top: 0;
    opacity: 0;
}
.file:hover {
    background: #AADFFD;
    border-color: #78C3F3;
    color: #004974;
    text-decoration: none;
}
</style>
</head>
<body>
	<form th:object="${article}" th:action="@{/articles/save}" class="form-horizontal" enctype="multipart/form-data" method="post">
		<div class="container">
			<div class="form-group">
				<label for="txtTitle" class="col-sm-1 control-label">标题</label>
				<div class="col-sm-3">
					<input type="text" class="form-control" id="txtTitle" th:field="*{title}"></input>
				</div>
			</div>
			<div class="form-group">
				<label for="txtContent" class="col-sm-1 control-label">内容</label>
				<div class="col-sm-7">
					<textarea id="txtContent" class="form-control" 
					th:field="*{content}" rows="30">
					</textarea>
				</div>
			</div>
			<div class="form-group">
				<label for="txtContent" class="col-sm-1 control-label">图片</label>
				<div class="col-sm-7">
					<a href="javascript:;" class="file">选择文件
				    <input type="file" name="pic" id="file1" class="file" />
				</a>
				</div>
				
			</div>
			<input type="hidden" id="hidId" th:field="*{id}"/>
			<div class="form-group">
				<div class="col-sm-offset-1 col-sm-10">
					<input type="submit" class="btn btn-primary" id="btnSave" value="保存"></input>
				</div>
			</div>
			<div class=" col-md-5" th:if="${loginError}">
				<p class="blog-label-error" th:text="${errorMsg}"></p>
			</div>
		</div>
	</form>
</body>
</html>